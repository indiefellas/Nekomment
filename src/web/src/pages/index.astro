---
import CommentBg from "../components/about/CommentBg.astro";
import Landing from "../components/about/Landing.astro";
import DashboardLanding from "../components/dashboard/Landing.astro";
import MainLayout from "../layouts/MainLayout.astro";

const { env } = Astro.locals.runtime;

let user = await env.NEKOMMENT_API.checkUser(Astro.cookies.get('token')?.value ?? '')
 
---

<MainLayout {user}>
	{user.data ? <DashboardLanding {user} /> : <Landing />}
</MainLayout>